- id: '1668049711760'
  alias: Kitchen - Magic Button - Dishwasher Dirty
  description: Magic button to reset the Dishwasher cycle to next kid
  trigger:
  - device_id: a96f25e4bdaa46b723277e82f971aa11
    domain: zha
    platform: device
    type: remote_button_double_press
    subtype: remote_button_double_press
  condition: []
  action:
  - service: input_select.set_options
    data:
      options: Dirty
    target:
      entity_id: input_select.dishwasher_status_list
  - service: scene.turn_on
    target:
      entity_id: scene.dishes_dirty
    metadata: {}
  - delay:
      hours: 0
      minutes: 0
      seconds: 3
      milliseconds: 0
  - type: turn_off
    device_id: fb3cdaddc452084da24c9832a9e85706
    entity_id: light.kitchen_dishwasher_status_lights
    domain: light
  - service: input_select.select_next
    data:
      cycle: true
    target:
      entity_id: input_select.kids_list
  mode: single
- id: '1668126358116'
  alias: Bathroom Fan - Powder - Left On
  description: Turns off the bathroom fan if left on for more than 7 minutes
  triggers:
  - entity_id:
    - switch.powder_fan
    for:
      hours: 0
      minutes: 7
      seconds: 0
    to: 'on'
    trigger: state
  conditions: []
  actions:
  - type: turn_off
    device_id: 899f83ef22eb30be47cba3038bc2ea0b
    entity_id: 41dc30b2c8e790dd7daf180d56d02882
    domain: switch
  mode: single
- id: '1668228377279'
  alias: Bathroom Fan - Basement - Left On
  description: Turns off the bathroom fan if left on for more than 10 minutes
  trigger:
  - platform: device
    type: turned_on
    device_id: 626bd54c1736871c7fc719f0ba7a1a2d
    entity_id: switch.basement_bathroom_fan
    domain: switch
    for:
      hours: 0
      minutes: 10
      seconds: 0
  condition: []
  action:
  - type: turn_off
    device_id: 626bd54c1736871c7fc719f0ba7a1a2d
    entity_id: switch.basement_bathroom_fan
    domain: switch
  mode: single
- id: '1668820025270'
  alias: Christmas Lights - Windows and Eves on, Dim Banisters
  description: If Helper "Christmas Time" is on, at sunset, turn on all the exterior
    roof and window Christmas lights. This also dims the banister lights to 25% bright
  triggers:
  - event: sunset
    offset: -00:30:00
    trigger: sun
  conditions:
  - condition: state
    entity_id: input_boolean.christmas_time
    state: 'on'
    enabled: true
  actions:
  - alias: Dim Banisters
    data:
      brightness_pct: 10
    action: light.turn_on
    target:
      entity_id: light.christmas_lights_banisters
  - alias: Turn On - Group - Window Lights
    action: homeassistant.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: switch.christmas_lights_windows
    enabled: false
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
  - alias: Turn On - Group - Eves - Lights
    action: homeassistant.turn_on
    data: {}
    target:
      entity_id: light.christmas_lights_eves
    enabled: false
  mode: single
- id: '1668830222350'
  alias: Study - Lighting
  description: If I am home, turns on the Study lights 45 min before sunset, or, when
    I long press the magic button
  triggers:
  - device_id: 90bde2da68fc245a2957d2ef964d6974
    domain: shelly
    type: long
    subtype: button
    trigger: device
  conditions: []
  actions:
  - type: toggle
    device_id: 3d7f5b1eef74c7b34c683b7c911b1a20
    entity_id: e274a8a23fba1f2612f86ac3a348b594
    domain: switch
  mode: single
- id: '1668837319768'
  alias: Christmas Lights - Off - All
  description: Turns all Christmas lights off.
  triggers:
  - at: '23:30:00'
    trigger: time
  conditions:
  - condition: state
    entity_id: input_boolean.christmas_time
    state: 'on'
    enabled: true
  actions:
  - alias: Turn off all Christmas lights
    action: homeassistant.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - switch.great_room_left_window_christmas_tree
      - light.christmas_lights_banisters
      - switch.christmas_lights_front_door
      - light.christmas_lights_eves
      - switch.christmas_lights_windows
  mode: single
- id: '1668839452852'
  alias: Study - Magic Button - On the Air
  description: ''
  triggers:
  - device_id: 90bde2da68fc245a2957d2ef964d6974
    domain: shelly
    type: single
    subtype: button
    trigger: device
  conditions: []
  actions:
  - type: toggle
    device_id: e7208f4a9c7632c74955282a23cacb38
    entity_id: switch.study_quad_bottom
    domain: switch
  mode: single
- id: '1668984543374'
  alias: Bathroom Fan - Elaina - Left On
  description: Turns off the bathroom fan if left on for more than 10 minutes
  triggers:
  - type: turned_on
    device_id: 16515352d9607d8ea238321a742c589e
    entity_id: e54b4394ec4bdd59a737f07d520edb6a
    domain: switch
    trigger: device
    for:
      hours: 0
      minutes: 10
      seconds: 0
  conditions: []
  actions:
  - type: turn_off
    device_id: 16515352d9607d8ea238321a742c589e
    entity_id: e54b4394ec4bdd59a737f07d520edb6a
    domain: switch
  mode: single
- id: '1669536240178'
  alias: Alert - Laundry - Dryer
  description: Notifies when the dryer cycle is complete, time to fold!
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.laundry_dryer_vibration_vibration
    from: 'on'
    to: 'off'
    for:
      hours: 0
      minutes: 20
      seconds: 0
  condition: []
  action:
  - service: notify.notify
    data:
      message: Dryer is done, empty please
      title: Laundry
  mode: single
- id: '1669580809690'
  alias: Alert - Laundry - Washer
  description: Washing machine is done, change the laundry
  trigger:
  - platform: numeric_state
    entity_id: sensor.laundry_washing_machine_outlet_current
    for:
      hours: 0
      minutes: 15
      seconds: 0
    below: 3
  condition: []
  action:
  - service: notify.notify
    data:
      message: Washer done, time to move the laundry to the Dryer
      title: Laundry
  mode: single
- id: '1670720766857'
  alias: Study - Magic Button - Camera - Hot
  description: Double-Click the button sends SMS to the Family
  triggers:
  - device_id: 90bde2da68fc245a2957d2ef964d6974
    domain: shelly
    type: double
    subtype: button
    trigger: device
  conditions: []
  actions:
  - if:
    - condition: state
      entity_id: switch.study_quad_bottom
      state: 'off'
    then:
    - data:
        message: Study Camera is HOT
      action: notify.sms_everyone
    - type: turn_on
      device_id: e7208f4a9c7632c74955282a23cacb38
      entity_id: switch.study_quad_bottom
      domain: switch
    else:
    - data:
        message: Study Camera - All Clear
      action: notify.sms_everyone
    - type: turn_off
      device_id: e7208f4a9c7632c74955282a23cacb38
      entity_id: switch.study_quad_bottom
      domain: switch
  mode: single
- id: '1671238740177'
  alias: Bathroom Fan - Elaina - Shower Humidity
  description: If the thermal sensor detects humidity above 60% in the bathroom, turn
    on the bathroom fan
  triggers:
  - above: 60
    entity_id:
    - sensor.bathroom_elaina_therm_humidity
    trigger: numeric_state
  conditions: []
  actions:
  - type: turn_on
    device_id: 16515352d9607d8ea238321a742c589e
    entity_id: e54b4394ec4bdd59a737f07d520edb6a
    domain: switch
  mode: single
- id: '1671243382961'
  alias: Bathroom Fan - Basement - Shower Humidity
  description: If the thermal sensor detects humidity above 60% in the bathroom, turn
    on the bathroom fan
  triggers:
  - entity_id:
    - sensor.bathroom_basement_therm_humidity
    above: 61
    trigger: numeric_state
  conditions:
  - condition: state
    entity_id: light.basement_bathroom_light
    state: 'on'
  actions:
  - type: turn_on
    device_id: 626bd54c1736871c7fc719f0ba7a1a2d
    entity_id: switch.basement_bathroom_fan
    domain: switch
  - delay:
      hours: 0
      minutes: 7
      seconds: 0
      milliseconds: 0
    enabled: true
  - repeat:
      count: 3
      sequence:
      - action: light.turn_off
        metadata: {}
        data: {}
        target:
          entity_id: light.basement_bathroom_light
      - delay:
          hours: 0
          minutes: 0
          seconds: 0
          milliseconds: 80
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.basement_bathroom_light
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
  mode: single
- id: '1671391679928'
  alias: Kitchen - Dishwasher - Running
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.kitchen_dishwasher_plug_power
    above: 33
  condition:
  - condition: state
    entity_id: input_select.dishwasher_status_list
    state: Dirty
  action:
  - data:
      options: Running
    target:
      entity_id: input_select.dishwasher_status_list
    action: input_select.set_options
  - target:
      entity_id: scene.dishes_running
    metadata: {}
    action: scene.turn_on
  mode: single
- id: '1671514087821'
  alias: Kitchen - Dishwasher - Clean
  description: ''
  trigger:
  - platform: numeric_state
    entity_id:
    - sensor.kitchen_dishwasher_plug_power
    for:
      hours: 0
      minutes: 12
      seconds: 0
    below: 6
  condition:
  - condition: state
    entity_id: input_select.dishwasher_status_list
    state: Running
  action:
  - repeat:
      until:
      - condition: state
        entity_id: input_select.dishwasher_status_list
        state: Dirty
      sequence:
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Alex
          sequence:
          - target:
              entity_id: scene.alex_orange
            data: {}
            action: scene.turn_on
        alias: If Alex - Orange
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Elaina
          sequence:
          - data: {}
            target:
              entity_id: scene.color_elaina
            action: scene.turn_on
        alias: If Elaina - Purple
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Elijah
          sequence:
          - data: {}
            target:
              entity_id: scene.color_elijah
            action: scene.turn_on
        alias: If Elijah - Blue
      - delay:
          hours: 0
          minutes: 0
          seconds: 3
          milliseconds: 0
      - target:
          entity_id: scene.dishes_done
        metadata: {}
        action: scene.turn_on
      - delay:
          hours: 0
          minutes: 0
          seconds: 3
          milliseconds: 0
- id: '1672893214006'
  alias: Bathroom Fan - Master - Water Closet - Left On
  description: Turns off the bathroom fan if left on for more than 10 minutes
  trigger:
  - platform: device
    type: changed_states
    device_id: f04722c6ebf0e111e78ab45302f36140
    entity_id: switch.bathroom_master_water_closet_fan
    domain: switch
    for:
      hours: 0
      minutes: 7
      seconds: 0
  condition: []
  action:
  - type: turn_off
    device_id: f04722c6ebf0e111e78ab45302f36140
    entity_id: switch.bathroom_master_water_closet_fan
    domain: switch
  mode: single
- id: '1673225652045'
  alias: Coach Lights - On
  description: Turn coach lights on 45 min before sunset
  triggers:
  - event: sunset
    offset: '-55'
    trigger: sun
  conditions: []
  actions:
  - type: turn_on
    device_id: e19e3e0d4e0a5b5daa8e3c4d8a2f207a
    entity_id: light.coach_lights_front_door
    domain: light
  mode: single
- id: '1673225716179'
  alias: Coach Lights - Off
  description: Turn coach lights off at sunrise
  trigger:
  - platform: sun
    event: sunrise
    offset: 0
  condition: []
  action:
  - type: turn_off
    device_id: e19e3e0d4e0a5b5daa8e3c4d8a2f207a
    entity_id: light.coach_lights_front_door
    domain: light
  mode: single
- id: '1675393826883'
  alias: Alert - Garage Service Door Ajar
  description: Sends alerts to phones when the Garage Door service door is open for
    more than 1 min. This is to prevent bugs or critters from wondering into the house.
  trigger:
  - type: opened
    platform: device
    device_id: 6f34cdf76414328ba9f305833716b8d8
    entity_id: 7aaff71110863f5dec3c4cff31452d6a
    domain: binary_sensor
    for:
      hours: 0
      minutes: 1
      seconds: 0
  condition: []
  action:
  - action: notify.notify
    data:
      message: Garage - Service Door is ajar!!  Close the door!!!
  mode: single
- id: '1675903426749'
  alias: Bedroom - Master - Magic Button - Lights
  description: Toggles lights on/off in the Master bedroom
  trigger:
  - device_id: aff2af2a82a95a8be59e13a6b9e88518
    domain: zha
    platform: device
    type: remote_button_double_press
    subtype: remote_button_double_press
  condition:
  - condition: time
    after: '15:00:00'
    before: 07:00:00
    weekday:
    - sat
    - fri
    - thu
    - wed
    - tue
    - mon
    - sun
  action:
  - type: toggle
    device_id: 24b3cbd1f66d1e5c6720e21be5db4c6e
    entity_id: light.bedroom_master_light
    domain: light
  mode: single
- id: '1679257893003'
  alias: Theater - Entertainment - Done
  description: Done playing, turn off all the things
  triggers:
  - device_id: 1fe9588ccfd494098968e568e1630bb3
    domain: media_player
    entity_id: media_player.theater_receiver
    type: turned_off
    trigger: device
  conditions:
  - condition: state
    entity_id: input_boolean.theater_movie_lighting
    state: 'on'
  actions:
  - parallel:
    - data:
        transition: 20
        brightness_pct: 100
      target:
        entity_id: light.theater_lights_cans
      action: light.turn_on
    - data: {}
      target:
        entity_id: input_boolean.theater_movie_lighting
      action: input_boolean.turn_off
    - type: turn_off
      device_id: 80f416f3c2118bbfc2c1c5b5e72d3d67
      entity_id: a6ce0dcf6aaae6e47ea32c60ee5a060a
      domain: remote
  mode: single
- id: '1679258023070'
  alias: Theater - Movie - Playing
  description: ''
  triggers:
  - entity_id:
    - media_player.theater_apple_4k
    to: playing
    trigger: state
  conditions:
  - condition: state
    entity_id: input_boolean.theater_movie_lighting
    state: 'on'
    enabled: true
  actions:
  - type: turn_off
    device_id: 4915e7300b67dd2a139ab5bb2441be7a
    entity_id: light.theater_lights_cans
    domain: light
  mode: single
- id: '1679265507066'
  alias: Theater - Movie - Browsing
  description: ''
  triggers:
  - entity_id:
    - media_player.theater_apple_4k
    from: playing
    trigger: state
  conditions:
  - condition: state
    entity_id: input_boolean.theater_movie_lighting
    state: 'on'
  actions:
  - data:
      transition: 10
      brightness_pct: 10
    target:
      entity_id: light.theater_lights_cans
    action: light.turn_on
  mode: single
- id: '1679265731944'
  alias: Theater - Entertainment - Startup
  description: Starting up a movie/blueray/xbox
  triggers:
  - device_id: 1fe9588ccfd494098968e568e1630bb3
    domain: media_player
    entity_id: media_player.theater_receiver
    type: turned_on
    trigger: device
  conditions: []
  actions:
  - data: {}
    target:
      entity_id: input_boolean.theater_movie_lighting
    action: input_boolean.turn_on
  - data:
      brightness_pct: 10
      transition: 19
    target:
      device_id: 4915e7300b67dd2a139ab5bb2441be7a
    action: light.turn_on
  mode: single
- id: '1679455871337'
  alias: Theater - Lights - Full Brightness
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_boolean.theater_movie_lighting
    from: 'on'
    to: 'off'
    for:
      hours: 0
      minutes: 0
      seconds: 0
  condition: []
  action:
  - service: light.turn_on
    data:
      brightness_pct: 100
    target:
      device_id: 4915e7300b67dd2a139ab5bb2441be7a
  mode: single
- id: '1679970884868'
  alias: Bathroom Fan - Master - Shower Humidity
  description: If the thermal sensor detects humidity above 60% in the bathroom, turn
    on the bathroom fan
  triggers:
  - above: 50
    entity_id:
    - sensor.bathroom_master_therm_humidity
    trigger: numeric_state
  conditions: []
  actions:
  - type: turn_on
    device_id: 5bf10f3430f60835bcadd6e24fe5af39
    entity_id: switch.bathroom_master_fan
    domain: switch
  mode: single
- id: '1679971264816'
  alias: Bathroom Fan - Master - Left On
  description: Turns off the bathroom fan if left on for more than 5 minutes
  trigger:
  - platform: device
    type: turned_on
    device_id: 5bf10f3430f60835bcadd6e24fe5af39
    entity_id: switch.bathroom_master_fan
    domain: switch
    for:
      hours: 0
      minutes: 5
      seconds: 0
  condition: []
  action:
  - type: turn_off
    device_id: 5bf10f3430f60835bcadd6e24fe5af39
    entity_id: switch.bathroom_master_fan
    domain: switch
  mode: single
- id: '1680152410300'
  alias: 'Bathroom Fan - Toby_Leo - Shower Humidity '
  description: If the thermal sensor detects humidity above 60% in the bathroom, turn
    on the bathroom fan
  trigger:
  - platform: numeric_state
    entity_id:
    - sensor.bathroom_toby_leo_therm_humidity
    above: 50
  condition: []
  action:
  - type: turn_on
    device_id: 0c732ca4664bce8d5bf7947a06c6ad2d
    entity_id: switch.bathroom_toby_leo_fan
    domain: switch
  mode: single
- id: '1680152639324'
  alias: Bathroom Fan - Toby_Leo - Left On
  description: Turns off the bathroom fan if left on for more than 10 minutes
  trigger:
  - platform: device
    type: turned_on
    device_id: 0c732ca4664bce8d5bf7947a06c6ad2d
    entity_id: switch.bathroom_toby_leo_fan
    domain: switch
    for:
      hours: 0
      minutes: 10
      seconds: 0
  condition: []
  action:
  - type: turn_off
    device_id: 0c732ca4664bce8d5bf7947a06c6ad2d
    entity_id: switch.bathroom_toby_leo_fan
    domain: switch
  mode: single
- id: '1681276583048'
  alias: Alert - Low battery level detection
  description: Low battery level detection & notification for all battery sensors
  use_blueprint:
    path: sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml
    input:
      threshold: 10
      actions:
      - data:
          message: '{{sensors}}'
          title: Get On It!
        action: notify.ha_to_gmail
      time: '10:00:00'
      exclude:
        entity_id: []
        label_id: mobile_devices
      day: 3
- id: '1690340775890'
  alias: Announcement - Rainbow Time
  description: Announces “rainbow time” when the sun set is at 10.16 on the horizon
    and the chandelier lights up the foyer/main stair case/study
  trigger:
  - platform: numeric_state
    entity_id: sun.sun
    attribute: elevation
    below: 6
  condition:
  - condition: time
    after: '13:00:00'
    weekday:
    - sat
    - fri
    - thu
    - wed
    - tue
    - mon
    - sun
  action:
  - service: notify.notify
    data:
      message: Rainbow Time!
      title: Announcement
  mode: single
- id: '1695409143932'
  alias: Christmas Lights - Banisters and Front Door Trees On
  description: If Helper "Christmas Time" is on, turns on the Christmas lights wrapped
    around the banisters
  triggers:
  - at: 07:00:00
    trigger: time
  conditions:
  - condition: state
    entity_id: input_boolean.christmas_time
    state: 'on'
  actions:
  - alias: Turn on Front Door Trees
    action: homeassistant.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - switch.christmas_lights_front_door
      - switch.great_room_left_window_christmas_tree
    enabled: false
  - alias: Turn On Banisters to 100%
    data:
      brightness_pct: 75
    action: light.turn_on
    target:
      entity_id: light.christmas_lights_banisters
  mode: single
- id: '1699127508376'
  alias: Kitchen - Magic Button - Christmas Tree
  description: Single click, turns on the Christmas Tree
  triggers:
  - device_id: a96f25e4bdaa46b723277e82f971aa11
    domain: zha
    type: remote_button_short_press
    subtype: remote_button_short_press
    trigger: device
  conditions: []
  actions:
  - action: homeassistant.toggle
    metadata: {}
    data: {}
    target:
      entity_id: switch.great_room_left_window_christmas_tree
  mode: single
- id: '1700014308167'
  alias: Bedroom - Master - Magic Button - Fireplace
  description: Turns on the master fireplace, sets the timer for 1 hour to turn off.
  trigger:
  - device_id: aff2af2a82a95a8be59e13a6b9e88518
    domain: zha
    platform: device
    type: remote_button_short_press
    subtype: remote_button_short_press
  condition:
  - condition: device
    device_id: 9844a4878f4d88669f6401bbe894ffb4
    domain: climate
    entity_id: 32c8a0c45546dd7d16c2ceb16ca5ec41
    type: is_hvac_mode
    hvac_mode: heat
    enabled: false
  action:
  - data:
      device: master_fireplace
      command: power
    target:
      entity_id: remote.broadlink_rm4_pro
    action: remote.send_command
  mode: single
- id: '1703833520303'
  alias: Monitor - Bedroom - Master - Fireplace
  description: Monitors the state of the Master Bedroom fireplace
  trigger:
  - platform: numeric_state
    entity_id:
    - sensor.bedroom_master_fireplace_switch_0_power
    above: 200
  condition: []
  action:
  - delay:
      hours: 1
      minutes: 0
      seconds: 0
      milliseconds: 0
  - if:
    - type: is_power
      condition: device
      device_id: 031bb64e065f0e8f1e68ae9f99ce1f72
      entity_id: 15b41bde0a2890c05b1a89fa00bfd795
      domain: sensor
      above: 200
    then:
    - service: remote.send_command
      data:
        device: master_fireplace
        command: power
      target:
        entity_id: remote.broadlink_rm4_pro
  mode: single
- id: '1707532099129'
  alias: Theater -  Timer - Power Cycle Screen
  description: Resets the theater screen- this is a bug in the screen roller firmware.
    Manufacturer recommendation was to unplug then plug back in
  trigger:
  - platform: time
    at: 05:00:00
  condition: []
  action:
  - type: turn_off
    device_id: 18a234b26e5caabaebae3c7e8baa54fb
    entity_id: 239baa6d0c88a50732ea4f1d3f6c7bc6
    domain: switch
  - delay:
      hours: 0
      minutes: 0
      seconds: 5
      milliseconds: 0
  - type: turn_on
    device_id: 18a234b26e5caabaebae3c7e8baa54fb
    entity_id: 239baa6d0c88a50732ea4f1d3f6c7bc6
    domain: switch
  mode: single
- id: '1707538864512'
  alias: Theater - Xbox - Playing
  description: ''
  triggers:
  - entity_id:
    - media_player.theater_receiver
    to: Xbox 360
    attribute: source
    trigger: state
  conditions:
  - condition: state
    entity_id: input_boolean.theater_movie_lighting
    state: 'off'
  actions:
  - type: turn_off
    device_id: 4915e7300b67dd2a139ab5bb2441be7a
    entity_id: light.theater_lights_cans
    domain: light
  mode: single
- id: '1709419857512'
  alias: Bedroom - Master - Large Window - No Morning Noise
  description: Turn off power to devices from 6:00 AM to 10 AM, then power on.
  triggers:
  - at: 06:00:00
    trigger: time
  conditions: []
  actions:
  - action: homeassistant.turn_off
    data: {}
    target:
      entity_id: switch.bedroom_master_large_window_bottom
  - delay:
      hours: 6
      minutes: 0
      seconds: 0
      milliseconds: 0
  - action: homeassistant.turn_on
    data: {}
    target:
      entity_id: switch.bedroom_master_large_window_bottom
  mode: single
- id: '1710740477547'
  alias: Alert - Motion Detected - Leo
  description: Alert when Leo's door motion detector senses movement during sleeping
    hours
  triggers:
  - type: motion
    device_id: 17fbecda4bf3f5328237533db3213ec1
    entity_id: d6c00a2504e3a77e3495cdf0b03b5c59
    domain: binary_sensor
    trigger: device
  conditions:
  - condition: or
    conditions:
    - condition: time
      before: '14:30:00'
      after: '13:00:00'
      alias: Nap Time
    - alias: Bed Time
      condition: time
      before: 06:30:00
      after: '20:30:00'
    enabled: true
  actions:
  - alias: If PJ is Home, Notify
    if:
    - condition: state
      entity_id: person.baconphat
      state: home
    then:
    - data:
        title: Alert!!
        message: Leo's motion detected
      action: notify.mobile_app_baconphat
  - alias: If Charity is Home, Notify
    if:
    - condition: state
      entity_id: person.charity
      state: home
    then:
    - data:
        title: Alert!!
        message: Leo's motion detected
      action: notify.mobile_app_diznymommy
  - alias: If Alex is Home, Notify
    if:
    - condition: state
      entity_id: person.alex
      state: home
    then:
    - data:
        title: Alert!!
        message: Leo's motion detected
      action: notify.mobile_app_jurassican
  - alias: If Elaina is Home, Notify
    if:
    - condition: state
      entity_id: person.elaina
      state: home
    then:
    - data:
        title: Alert!!
        message: Leo's motion detected
      action: notify.mobile_app_bottle_b
  - alias: If Elijah is Home, Notify
    if:
    - condition: state
      entity_id: person.elijah
      state: home
    then:
    - data:
        title: Alert!!
        message: Leo's motion detected
      action: notify.mobile_app_wrecker
  mode: single
- id: '1710816864784'
  alias: Alert - Motion Detected - Toby
  description: Alert when Toby's door motion detector senses movement during sleeping
    hours
  triggers:
  - type: motion
    device_id: 756a80040c26d7d7c11232370d6827f1
    entity_id: 16336b2b3a86bf964175398b15a80bec
    domain: binary_sensor
    trigger: device
  conditions:
  - condition: or
    conditions:
    - condition: time
      before: '14:30:00'
      after: '13:00:00'
      alias: Nap Time
    - alias: Bed Time
      condition: time
      before: 06:30:00
      after: '20:30:00'
    enabled: true
  actions:
  - if:
    - condition: state
      entity_id: person.baconphat
      state: home
    then:
    - action: notify.mobile_app_baconphat
      metadata: {}
      data:
        message: Toby's motion detected
        target: Alert!!
    alias: If PJ is Home, send Notification
  - if:
    - condition: state
      entity_id: person.charity
      state: home
    then:
    - action: notify.mobile_app_diznymommy
      metadata: {}
      data:
        message: Toby's motion detected
        target: Alert!!
    alias: If Charity is Home, send Notification
  - if:
    - condition: state
      entity_id: person.alex
      state: home
    then:
    - action: notify.mobile_app_jurassican
      metadata: {}
      data:
        message: Toby's motion detected
        target: Alert!!
    alias: If Alex is Home, send Notification
  - if:
    - condition: state
      entity_id: person.elaina
      state: home
    then:
    - action: notify.mobile_app_bottle_b
      metadata: {}
      data:
        message: Toby's motion detected
        target: Alert!!
    alias: If Elaina is Home, send Notification
  - if:
    - condition: state
      entity_id: person.elijah
      state: home
    then:
    - action: notify.mobile_app_wrecker
      metadata: {}
      data:
        message: Toby's motion detected
        target: Alert!!
    alias: If Elijah is Home, send Notification
  mode: single
- id: '1712431581731'
  alias: Alert - Door Open - Toby's Bathroom
  description: ''
  triggers:
  - entity_id:
    - binary_sensor.bathroom_toby_door_opening
    alias: Toby's Bathroom Door
    trigger: state
  conditions:
  - condition: or
    conditions:
    - condition: time
      before: '14:30:00'
      after: '13:00:00'
      alias: Nap Time
    - alias: Bed Time
      condition: time
      before: 06:30:00
      after: '20:30:00'
    enabled: true
  actions:
  - alias: If PJ is Home, Notify
    if:
    - condition: state
      entity_id: person.baconphat
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_toby_door_opening', 'on')
          %}\n  Toby's bathroom door has been opened!\n{% else %}\n  Toby's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_baconphat
  - alias: If Charity is Home, Notify
    if:
    - condition: state
      entity_id: person.charity
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_toby_door_opening', 'on')
          %}\n  Toby's bathroom door has been opened!\n{% else %}\n  Toby's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_diznymommy
  - alias: If Alex is Home, Notify
    if:
    - condition: state
      entity_id: person.alex
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_toby_door_opening', 'on')
          %}\n  Toby's bathroom door has been opened!\n{% else %}\n  Toby's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_jurassican
  - alias: If Elaina is Home, Notify
    if:
    - condition: state
      entity_id: person.elaina
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_toby_door_opening', 'on')
          %}\n  Toby's bathroom door has been opened!\n{% else %}\n  Toby's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_bottle_b
  - alias: If Elijah is Home, Notify
    if:
    - condition: state
      entity_id: person.elijah
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_toby_door_opening', 'on')
          %}\n  Toby's bathroom door has been opened!\n{% else %}\n  Toby's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_wrecker
  mode: single
- id: '1712446042424'
  alias: Alert - Door Open - Leo's Bathroom
  description: Alert when Leo's bathroom door detector senses movement during sleeping
    hours
  triggers:
  - entity_id:
    - binary_sensor.bathroom_leo_door_opening
    to:
    - 'on'
    - 'off'
    from:
    - 'off'
    - 'on'
    trigger: state
  conditions:
  - condition: or
    conditions:
    - condition: time
      before: '14:30:00'
      after: '13:00:00'
      alias: Nap Time
    - alias: Bed Time
      condition: time
      before: 06:30:00
      after: '20:30:00'
    enabled: true
  actions:
  - alias: If PJ is Home, Notify
    if:
    - condition: state
      entity_id: person.baconphat
      state: Home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_leo_door_opening', 'on')
          %}\n  Leo's bathroom door has been opened!\n{% else %}\n  Leo's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_baconphat
  - alias: If Charity is Home, Notify
    if:
    - condition: state
      entity_id: person.charity
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_leo_door_opening', 'on')
          %}\n  Leo's bathroom door has been opened!\n{% else %}\n  Leo's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_diznymommy
  - alias: If Alex is Home, Notify
    if:
    - condition: state
      entity_id: person.alex
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_leo_door_opening', 'on')
          %}\n  Leo's bathroom door has been opened!\n{% else %}\n  Leo's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_jurassican
  - alias: If Elaina is Home, Notify
    if:
    - condition: state
      entity_id: person.elaina
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_leo_door_opening', 'on')
          %}\n  Leo's bathroom door has been opened!\n{% else %}\n  Leo's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_bottle_b
  - alias: If PJ is Home, Notify
    if:
    - condition: state
      entity_id: person.elijah
      state: home
    then:
    - data:
        title: Alert!!
        message: "{% if is_state('binary_sensor.bathroom_leo_door_opening', 'on')
          %}\n  Leo's bathroom door has been opened!\n{% else %}\n  Leo's bathroom
          door has been closed.\n{% endif %}"
      action: notify.mobile_app_wrecker
  mode: single
- id: '1712800328092'
  alias: Alert - Stair Case Motion Detected
  description: Alert when Leo's bathroom door detector senses movement during sleeping
    hours
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.stairs_motion_motion
    to: 'on'
  condition:
  - condition: time
    before: 07:00:00
    after: '23:00:00'
    weekday:
    - sun
    - mon
    - tue
    - wed
    - thu
    - fri
    - sat
  action:
  - service: notify.notify
    metadata: {}
    data:
      message: Staircase motion detected
  mode: single
- id: '1715901557262'
  alias: Thermostat - Floor 1 - Summer
  description: If the thermostat reaches 76, switch HVAC to Cool
  trigger:
  - type: temperature
    platform: device
    device_id: 42323417e5e9544d915fe2cdda7e08e2
    entity_id: ff08b5362c593bbd1faeea407dd74dbb
    domain: sensor
    above: 76
  condition: []
  action:
  - device_id: 42323417e5e9544d915fe2cdda7e08e2
    domain: climate
    entity_id: 6b3b14a566af3a227b0199af1eb0b515
    type: set_hvac_mode
    hvac_mode: cool
  mode: single
- id: '1715901617211'
  alias: Thermostat - Floor 2 - Summer
  description: If the thermostat reaches 76, switch HVAC to Cool
  trigger:
  - type: temperature
    platform: device
    device_id: 9844a4878f4d88669f6401bbe894ffb4
    entity_id: ed1c3505eb42ac5c92e924897d40a89b
    domain: sensor
    above: 76
  condition: []
  action:
  - device_id: 9844a4878f4d88669f6401bbe894ffb4
    domain: climate
    entity_id: 32c8a0c45546dd7d16c2ceb16ca5ec41
    type: set_hvac_mode
    hvac_mode: cool
  mode: single
- id: '1715901865655'
  alias: Thermostat - Floor 1 - Winter
  description: If the thermostat reaches 72, switch HVAC to Heat
  trigger:
  - type: temperature
    platform: device
    device_id: 42323417e5e9544d915fe2cdda7e08e2
    entity_id: ff08b5362c593bbd1faeea407dd74dbb
    domain: sensor
    below: 73
  condition: []
  action:
  - device_id: 42323417e5e9544d915fe2cdda7e08e2
    domain: climate
    entity_id: 6b3b14a566af3a227b0199af1eb0b515
    type: set_hvac_mode
    hvac_mode: heat
  mode: single
- id: '1715901972159'
  alias: Thermostat - Floor 2 - Winter
  description: If the thermostat reaches 73, switch HVAC to Heat
  trigger:
  - type: temperature
    platform: device
    device_id: 9844a4878f4d88669f6401bbe894ffb4
    entity_id: ed1c3505eb42ac5c92e924897d40a89b
    domain: sensor
    below: 73
  condition: []
  action:
  - device_id: 9844a4878f4d88669f6401bbe894ffb4
    domain: climate
    entity_id: 32c8a0c45546dd7d16c2ceb16ca5ec41
    type: set_hvac_mode
    hvac_mode: heat
  mode: single
- id: '1716164854166'
  alias: Thermostat - Floor 2 - Summer- 11pm to 76
  description: Set thermostat to 76 at 11 PM
  trigger:
  - platform: time
    at: '23:00:00'
  condition:
  - condition: device
    device_id: 9844a4878f4d88669f6401bbe894ffb4
    domain: climate
    entity_id: 32c8a0c45546dd7d16c2ceb16ca5ec41
    type: is_hvac_mode
    hvac_mode: cool
  action:
  - service: climate.set_temperature
    metadata: {}
    data:
      temperature: 76
    target:
      device_id: 9844a4878f4d88669f6401bbe894ffb4
  mode: single
- id: '1716165678474'
  alias: Thermostat - Floor 2 - Summer - 7am to 77
  description: Set thermostat to 77 at 7 AM
  trigger:
  - platform: time
    at: 07:00:00
  condition:
  - condition: device
    device_id: 9844a4878f4d88669f6401bbe894ffb4
    domain: climate
    entity_id: 32c8a0c45546dd7d16c2ceb16ca5ec41
    type: is_hvac_mode
    hvac_mode: cool
  action:
  - service: climate.set_temperature
    metadata: {}
    data:
      temperature: 77
    target:
      device_id: 9844a4878f4d88669f6401bbe894ffb4
  mode: single
- id: '1717463360938'
  alias: Exterior - Water Trees
  description: Water trees at 5 AM and again at 11 PM
  trigger:
  - platform: time
    at: 05:00:00
  - platform: time
    at: '23:00:00'
  condition:
  - condition: time
    weekday:
    - sun
    - tue
    - thu
  action:
  - service: rachio.start_watering
    metadata: {}
    data:
      duration: 10
    target:
      device_id: ab4f8245a33705efead1a2120a972d60
  mode: single
- id: '1720590664079'
  alias: Great Room - Bed Time
  description: At 1:00 am turn off the lights in the Great Room
  triggers:
  - at: 01:00:00
    trigger: time
  conditions: []
  actions:
  - type: turn_off
    device_id: 4b3bf14ae053e6eb5d1d360b22c9179b
    entity_id: 25dc338316088c63239fe37c268b2b89
    domain: switch
  mode: single
- id: '1725052517913'
  alias: Announcement -  Elijah - Is Phone Charged?
  description: Elijah to charge his phone before Friday school day
  trigger:
  - platform: time
    at: '20:00:00'
  condition:
  - condition: time
    weekday:
    - thu
  action:
  - action: notify.sms_elijah
    data:
      message: Its Thursday night, is your phone charged for school tomorrow?
      title: Charge Me?
  mode: single
- id: '1728016354582'
  alias: Kitchen - Dishwasher - Dirty
  description: If the dishwasher door is open, as long as the condition of 'dirty'
    is true, light the LED strip to red for 5 seconds to visually indicate the dishes
    are dirty
  triggers:
  - type: opened
    device_id: 79dc17c0ac10bdc741cd0e8fe149146a
    entity_id: fdee1367f26e926330895a88b05a37bb
    domain: binary_sensor
    trigger: device
  conditions:
  - condition: state
    entity_id: input_select.dishwasher_status_list
    state: Dirty
  actions:
  - repeat:
      until:
      - type: is_not_open
        condition: device
        device_id: 79dc17c0ac10bdc741cd0e8fe149146a
        entity_id: fdee1367f26e926330895a88b05a37bb
        domain: binary_sensor
      sequence:
      - target:
          entity_id: scene.dishes_dirty
        metadata: {}
        action: scene.turn_on
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Alex
          sequence:
          - target:
              entity_id: scene.alex_orange
            data: {}
            action: scene.turn_on
        alias: If Alex - Orange
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Elaina
          sequence:
          - data: {}
            target:
              entity_id: scene.color_elaina
            action: scene.turn_on
        alias: If Elaina - Purple
      - choose:
        - conditions:
          - condition: state
            entity_id: input_select.kids_list
            state: Elijah
          sequence:
          - data: {}
            target:
              entity_id: scene.color_elijah
            action: scene.turn_on
        alias: If Elijah - Blue
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
  - type: turn_off
    device_id: fb3cdaddc452084da24c9832a9e85706
    entity_id: 0c697b6658f2661fd85387aff1e307c2
    domain: light
  mode: single
- id: '1729036900238'
  alias: Lighting - Great Room/Solarium - Before Sunset
  description: 35 minutes before sunset, turn on the lights in the Great Room and
    the Solarium
  triggers:
  - trigger: sun
    event: sunset
    offset: -00:35:00
  conditions: []
  actions:
  - type: turn_on
    device_id: 4b3bf14ae053e6eb5d1d360b22c9179b
    entity_id: 25dc338316088c63239fe37c268b2b89
    domain: switch
  - type: turn_on
    device_id: 8fc6ded957066f5d51f59012770e1384
    entity_id: 291b3fa52a10c90f37721bde3b1f14d6
    domain: switch
  mode: single
- id: '1738136879009'
  alias: Motion Detection Disabled
  description: ''
  triggers: []
  conditions: []
  actions:
  - action: camera.disable_motion_detection
    metadata: {}
    data: {}
    target:
      device_id: c811ce81d0c24b166f448d7fec755ab3
  mode: single
- id: '1738813834271'
  alias: Tag Garage Door - Small Bay is scanned
  description: ''
  triggers:
  - trigger: tag
    tag_id: fee8ff31-dd48-46e9-86bd-e3815bde2775
  conditions: []
  actions:
  - action: cover.toggle
    metadata: {}
    data: {}
    target:
      entity_id: cover.garage_door_small_bay
  mode: single
- id: '1741287361145'
  alias: Christmas Time - Reset Everything
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - input_boolean.christmas_time
    from: 'on'
    to: 'off'
  conditions: []
  actions:
  - action: light.turn_on
    metadata: {}
    data:
      brightness_pct: 100
    target:
      entity_id: light.christmas_lights_banisters
  - action: switch.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: switch.christmas_lights_front_door
  - action: switch.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: switch.christmas_lights_windows
  mode: single
